<template>
  <div></div>
</template>
<script>
import "ol/ol.css";

import Feature from "ol/Feature";
import Polygon from "ol/geom/Polygon";
import { Vector as VectorLayer } from "ol/layer";
import VectorSource from "ol/source/Vector";
import { Stroke, Fill } from "ol/style";
import Style from "ol/style/Style";

export default {
  props: {
    map: {
      required: true,
      default() {
        return [];
      },
    },
  },
  data() {
    return {
      overlayCircle: null,
    };
  },
  mounted() {
    this.addPoligon();
  },
  methods: {
    addPoligon() {
      let vectorSource = new VectorSource();
      let coordinates = {
        "8": [
          [132.8908456132663, 42.817891900107554], //ur
          [132.89344983560304, 42.81704850066657], //dr
          [132.89246515221555, 42.815387538542694],
          [132.88986152801124, 42.816221119549965],
        ],
        "9": [
          [132.88986152801124, 42.816221119549965],
          [132.89246515221555, 42.815387538542694],
          [132.8915619862523, 42.81385431022519], //dl
          [132.88893466274826, 42.81468618921056], //ul
        ],
        "10": [
          [132.88893466274826, 42.81468618921056], //ur
          [132.89091024241768, 42.814060301361906],//dr
          [132.8902505873273, 42.812962883269705],
          [132.8882986135369, 42.81358280440716],
        ],
        "11": [
          [132.8882986135369, 42.81358280440716],
          [132.8902505873273, 42.812962883269705],
          [132.88954146628194, 42.81176023664855],
          [132.8875719513091, 42.81240166771664],
        ],
        "12": [
          [132.8875719513091, 42.81240166771664],
          [132.8895414662819, 42.81176023664855],
          [132.88883022679937, 42.8105615161615],
          [132.88686178592454, 42.81119178594838],
        ],
        "13": [
          [132.88686178592454, 42.81119178594838],
          [132.88883022679937, 42.8105615161615],
          [132.8880990389799, 42.8093130835295],
          [132.88611276207493, 42.80994907699463],
        ],
        "14": [
          [132.88611276207493, 42.80994907699463],
          [132.88809594682104, 42.80931407362476],
          [132.88740202362104, 42.80813061390395],
          [132.88544670885173, 42.80876860081014],
        ],
        "15": [
          [132.88544670885173, 42.80876860081014],
          [132.88740202362104, 42.80813061390395],
          [132.88665742808996, 42.80689610565736],
          [132.88469811704533, 42.80750924783797],
        ],
        "71": [
          [132.89756326843855, 42.79895988682716],
          [132.89636403343636, 42.800051917156594],
          [132.89485141062104, 42.799157225430406],
          [132.8960533187601, 42.79806511992254],
        ],
        "72": [
          [132.8978758526123, 42.80094179206344],
          [132.89905829195337, 42.79984038561747],
          [132.89756326843855, 42.79895988682716],
          [132.89636403343636, 42.800051917156594],
        ],
        "73": [
          [132.8993914063506, 42.80184013724744],
          [132.9005747811099, 42.80074253810767],
          [132.89905829195337, 42.79984038561747],
          [132.8978758526123, 42.80094179206344],
        ],
        "74": [
          [132.90132810419578, 42.80299132463722],
          [132.90250506370128, 42.80188809868835],
          [132.9005747811099, 42.80074253810767],
          [132.8993914063506, 42.80184013724744],
        ],
        "75": [
          [132.90326500538887, 42.80413301937514],
          [132.90326770751966, 42.80413842634556],
          [132.90447426503403, 42.80305422440941],
          [132.90250506370128, 42.80188809868835],
          [132.90132810419578, 42.80299132463722],
        ],
        "76": [
          [132.90376095645306, 42.805615889501496],
          [132.90557977293707, 42.80528979964316],
          [132.9050851571093, 42.803815784917674],
          [132.90326500538887, 42.80413301937514],
          ],
        "77" : [
          [132.90427694286439, 42.80710818093385],
          [132.9060878979869, 42.80680717206667], 
          [132.90557977293707, 42.80528979964316],
          [132.90376095645306, 42.805615889501496],
        ],
        "78" : [
          [132.9047722748753, 42.80857414034733],
          [132.9065832904979, 42.80826770308633],
          [132.9060878979869, 42.80680717206667], 
          [132.90427694286439, 42.80710818093385],
          ],
      };
      let style = new Style({
        stroke: new Stroke({
          color: "rgba(10, 105, 10, 1)",
          width: 1,
        }),
        fill: new Fill({
          color: "rgba(100, 255, 0, 0.1)",
        }),
      });
      for (let key in coordinates) {
        var polyFeature = new Feature({
          geometry: new Polygon([coordinates[key]]),
        });
        polyFeature.setStyle(style);
        polyFeature.getGeometry().transform("EPSG:4326", "EPSG:3857");
        vectorSource.addFeature(polyFeature);
      }

      var vectorLayer = new VectorLayer({
        source: vectorSource,
      });
      this.map.addLayer(vectorLayer);
    },
  },
};
</script>

